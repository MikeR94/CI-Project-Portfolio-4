{% load static %}

<!-- Navigation Bar 2 -->
<nav class="navbar fixed-top navbar-expand-xl p-md-3">
  <div class="container">
    <div class="nav-bar-logo"><a href="{% url 'home'%}" class="text-decoration-none nav-bar-logo">Cafe Manbo</a></div>

    <!-- X Icon -->
    <button
      class="navbar-toggler collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="toggler-icon top-bar"></span>
      <span class="toggler-icon middle-bar"></span>
      <span class="toggler-icon bottom-bar"></span>
    </button>

    <!-- Links -->
    <div class="collapse navbar-collapse text-center" id="navbarNav">
      <div class="mx-auto"></div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link pt-2" href="{% url 'home' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link pt-2" target="_blank" href="https://res.cloudinary.com/duvrjdbbc/image/upload/v1654593056/Cafe-Manbo-Menu_vvvsko.pdf">Our Menu</a>
        </li>
        <li class="nav-item">
          <a class="nav-link pt-2" href="{% url 'gallery' %}">Gallery</a>
        </li>
        <li class="nav-item">
          <a class="nav-link pt-2" href="{% url 'book_now' %}">Book Now</a>
        </li>
        <li class="nav-item dropdown">
          {% if request.user.is_authenticated and request.user.username|length > 10 %}
          <a class="nav-link dropdown-toggle pt-2" href="#" id="navbarDropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false">
            {{ user.username|slice:10 }}...
          </a>
          {% elif request.user.is_authenticated and request.user.username|length < 10 %}
          <a class="nav-link dropdown-toggle pt-2" href="#" id="navbarDropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false">
            {{ user.username|slice:10 }}
          </a>
          {% else %}
          <a class="nav-link dropdown-toggle pt-2" href="#" id="navbarDropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false"> Account </a>
          {% endif %}
          <ul class="dropdown-menu text-center" aria-labelledby="navbarDropdown">
            {% if request.user.is_authenticated %} {% if request.user.is_staff %}
            <li><a class="dropdown-item" href="{% url 'staff_dashboard' %}">Staff Dashboard</a></li>
            {% endif %}
            <li><a class="dropdown-item" href="{% url 'user_reservations' %}">My Reservations</a></li>
            <li><a class="dropdown-item" href="{% url 'create_review'%}">Write A Review</a></li>
            <li><a class="dropdown-item" href="{% url 'account_logout' %}">Logout</a></li>
            {% else %}
            <li><a class="dropdown-item" href="{% url 'account_signup' %}">Register</a></li>
            <li><a class="dropdown-item" href="{% url 'account_login' %}">Login</a></li>
            {% endif %}
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
