{% extends "base.html" %} {% block content %} {% include "navbar_2.html" %}

<section class="container page-space pt-5 pb-5">
  <table class="table table_id pt-5 text-center">
    <thead>
      {% if booking %}
      <tr>
        <th scope="col">Status</th>
        <th scope="col">Reference Number</th>
        <th scope="col">Date Of Visit</th>
        <th scope="col">Time Of Visit</th>
        <th scope="col">Details</th>
      </tr>
      {% else %}
      <h4>You don't have any bookings yet</h4>
      {% endif %}
    </thead>
    <tbody>
      {% for booking in booking %}
      <tr>
        <td data-label="Booking Status">{% if booking.guest_attended == True %} <span class="green-text">Booking Attended</span> <i class="fas fa-check green-text"></i> {% elif booking.booking_denied %} <span class="red-text">Booking Denied</span> <i class="fas fa-exclamation red-text"></i> {% elif booking.booking_approved == True %} <span class="green-text">Booking Approved</span> <i class="fas fa-check green-text"></i> {% else %} <span class="text-warning">Awaiting Approval</span> <i class="fas fa-exclamation text-warning"></i> {% endif %}</td>
        <td data-label="Ref">{{ booking.ref_number }}</td>
        <td data-label="Date">{{ booking.date_of_visit }}</td>
        <td data-label="Time">{{ booking.time_of_visit }}</td>
        <form action="user-details-booking/{{ booking.id }}" method="POST">
          <input type="hidden" name="next" value="{{request.path}}">
          <td data-label="details"><button type="submit" class="btn btn-primary">Details</button></td>
          {% csrf_token %}
        </form>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>


{% include "footer.html" %} {% endblock %}
